<div class="anon-appointment-container">
  <h2>Solicitar Marcação</h2>
  <form (ngSubmit)="submitRequest()" #form="ngForm">
    <div class="form-group">
      <label>Número Utente</label>
      <input type="text" name="numeroUtente" [(ngModel)]="numeroUtente" required class="form-control" placeholder="Número Utente" />
    </div>
    <div class="form-group">
      <label>Nome Completo</label>
      <input type="text" name="nomeCompleto" [(ngModel)]="nomeCompleto" required class="form-control" placeholder="Seu nome" />
    </div>
    <div class="form-group">
      <label>Data de Nascimento</label>
      <input type="date" name="dataNascimento" [(ngModel)]="dataNascimento" required class="form-control" />
    </div>
    <div class="form-group">
      <label>Género</label>
      <select name="genero" [(ngModel)]="genero" required class="form-control">
        <option value="">Selecione</option>
        <option value="0">Masculino</option>
        <option value="1">Feminino</option>
        <option value="2">Outro</option>
      </select>
    </div>
    <div class="form-group">
      <label>Fotografia (URL)</label>
      <input type="url" name="fotografiaUrl" [(ngModel)]="fotografiaUrl" class="form-control" />
    </div>
    <div class="form-group">
      <label>Telefone</label>
      <input type="tel" name="telefone" [(ngModel)]="telefone" required class="form-control" />
    </div>
    <div class="form-group">
      <label>Email</label>
      <input type="email" name="email" [(ngModel)]="email" required class="form-control" placeholder="seu@email.com" />
    </div>
    <div class="form-group">
      <label>Morada</label>
      <input type="text" name="morada" [(ngModel)]="morada" class="form-control" />
    </div>
    <button type="submit" class="btn btn-primary">Enviar Pedido</button>
    <div *ngIf="feedback" class="alert alert-success mt-2">{{ feedback }}</div>
    <div *ngIf="feedbackErro" class="alert alert-danger mt-2">{{ feedbackErro }}</div>
    <div *ngIf="showRegister" class="mt-4 p-3 border rounded bg-light">
      <h5>Crie sua conta para acompanhar seus pedidos</h5>
      <form (ngSubmit)="criarConta()">
        <div class="form-group mb-2">
          <label>Email</label>
          <input type="email" [value]="email" class="form-control" disabled />
        </div>
        <div class="form-group mb-2">
          <label>Senha</label>
          <input type="password" [(ngModel)]="registerPassword" name="registerPassword" required class="form-control" />
        </div>
        <div class="form-group mb-2">
          <label>Confirmar Senha</label>
          <input type="password" [(ngModel)]="registerConfirmPassword" name="registerConfirmPassword" required class="form-control" />
        </div>
        <button type="submit" class="btn btn-success">Criar Conta</button>
      </form>
      <div *ngIf="registerFeedback" class="alert alert-success mt-2">{{ registerFeedback }}</div>
      <div *ngIf="registerError" class="alert alert-danger mt-2">{{ registerError }}</div>
    </div>
  </form>
</div>
